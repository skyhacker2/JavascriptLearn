<!DOCTYPE html>
<html lang="%{{_lang_}}%">
<head>
<meta charset="utf-8" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>${{customer.label.manageCustomerGroups}}$ - ${{common.appName}}$</title>
<!-- include "../inc/head.inc.html" -->
</head>
<body>
<!-- include "../inc/body.inc.html" -->

<!-- require "../../js/lang/%{{_lang_}}%/customer" -->
<!-- require "../../js/mod/customer/group-list" -->
<script type="text/javascript">
;(function() {
	var params = G.getAjaxHistoryParams();

	G.listId = params[0];

	G.pageRequire(['../../js/mod/customer/group-list', '../../js/mod/nav-bar/init', 'ajax!' + G.getAjaxLoadUrl('users/information'), 'ajax!' + G.getAjaxLoadUrl('lists/' + params[0] + '/groups')], function(main, navBar, auth, groupsRes) {
		require(['rfl'], function(rfl) {
			rfl.auth.init(auth, function() {
				navBar.init('list');
				if(!rfl.ajax.dealCommonCode(groupsRes.code)) {
					if(groupsRes.code === 0) {
						main.init($.extend(groupsRes.data, {
							listId: params[0]
						}));
					} else if(groupsRes.code === 2) {
						rfl.ui.renderInvalidUrl('#main-div');
					} else {
						rfl.ui.renderPageLoadError('#main-div');
					}
				}
			});
		});
	}, function() {
		require(['rfl'], function(rfl) {
			rfl.ui.renderPageLoadError('#main-div');
		});
	});
})();
</script>
</body>
</html>