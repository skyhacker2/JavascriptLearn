<%
var langResourceCommon = require('lang/{{G.LANG}}/common');
var langResourceUser = require('lang/{{G.LANG}}/user');
%>

<h1><%=isEdit ? langResourceUser.label.editUser : langResourceUser.label.createUser%></h1>
<div id="edit-user-form">
	<div class="row">
		<div class="col-md-6 col-sm-6">
			<div class="form-group">
				<label for="edit-user-email"><%=langResourceCommon.label.email%> %{{mandatory}}%</label>
				<input id="edit-user-email" class="form-control" type="email" name="email" maxlength="180" data-validator="mandatory email" type="text" value="<%==data.email || ''%>" <%=isEdit ? 'disabled="disabled"' : ''%> data-rfl-keyup="keyupSubmit" />
				<span class="help-block help-error"></span>
			</div>
			<%if(!currentGroup.superGroup) {%>
				<div class="form-group">
					<label for="edit-user-roles"><%=langResourceCommon.label.role%></label>
					<input id="edit-user-roles" name="roles" class="form-control" data-mandatory="true" type="text" value="" />
				</div>
			<%}%>
		</div>
		<div class="col-md-6 col-sm-6">
			<div class="form-group">
				<label for="edit-user-firstName"><%=langResourceUser.label.firstName%></label>
				<input id="edit-user-firstName" class="form-control" name="firstName" maxlength="80" type="text" value="<%==data.firstName || ''%>" data-rfl-keyup="keyupSubmit" />
				<span class="help-block help-error"></span>
			</div>
			<div class="form-group">
				<label for="edit-user-lastName"><%=langResourceUser.label.lastName%></label>
				<input id="edit-user-lastName" class="form-control" name="lastName" maxlength="80" type="text" value="<%==data.lastName || ''%>" data-rfl-keyup="keyupSubmit" />
				<span class="help-block help-error"></span>
			</div>
		</div>
	</div>
	<%if(currentGroup.superGroup) {%>
		<h2 class="section"><%=langResourceCommon.label.userGroup%></h2>
		<div class="row">
			<div class="col-md-6 col-sm-6">
				<h5 class="hidden"><%=langResourceUser.label.availableGroups%></h5>
				<div>
					<button class="btn btn-link" data-rfl-click="addAllGroups"><%=langResourceCommon.label.selectAll%><i class="icon-share-alt"></i></button>
				</div>
				<div class="multiple-selection-box text-right">
					<ul id="available-groups"></ul>
				</div>
			</div>
			<div class="col-md-6 col-sm-6">
				<h5 class="hidden"><%=langResourceUser.label.selectedGroups%></h5>
				<div class="text-right">
					<button class="btn btn-link" data-rfl-click="removeAllGroups"><i class="icon-remove"></i><%=langResourceCommon.label.removeAll%></button>
				</div>
				<div class="multiple-selection-box">
					<ul id="selected-groups"></ul>
				</div>
			</div>
		</div>
	<%}%>
</div>
<div class="section-divider"></div>
<div>
	<button onclick="return false;" class="btn btn-primary responsive" data-rfl-click="save"><%=isEdit ? langResourceCommon.label.update : langResourceCommon.label.save%></button> 
	<button onclick="return false;" class="btn btn-default responsive" data-rfl-click="cancel"><%=langResourceCommon.label.cancel%></button> 
</div>