<!DOCTYPE html>
<html lang="%{{_lang_}}%">
<head>
<meta charset="utf-8" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>${{customer.label.manageCustomerGroups}}$ - ${{common.appName}}$</title>
<!-- include "../inc/head.inc.html" -->
<script type="text/javascript">
document.write('<link rel="stylesheet" href="css/mod/customer/customer-list-main.css" />');
document.write('<link rel="stylesheet" href="js/lib/customizable-data-grid/main.css" />');
</script>
</head>
<body>
<!-- include "../inc/body.inc.html" -->

<!-- require "../../js/lang/%{{_lang_}}%/customer" -->
<!-- require "../../js/lang/%{{_lang_}}%/customizable-data-grid" -->
<!-- require "../../js/mod/customer/group-customer-list" -->
<script type="text/javascript">
;(function() {
	var params = G.getAjaxHistoryParams();

	G.pageRequire(['../../js/mod/customer/group-customer-list', '../../js/mod/nav-bar/init', 'ajax!' + G.getAjaxLoadUrl('users/information'), 'ajax!' + G.getAjaxLoadUrl('lists/' + params[0] + '/propertys')], function(main, navBar, auth, propertysRes) {
		require(['rfl'], function(rfl) {
			rfl.auth.init(auth, function() {
				navBar.init('list');
				if(!rfl.ajax.dealCommonCode(propertysRes.code)) {
					if(propertysRes.code === 0) {
						main.init($.extend(propertysRes.data, {
							listId: params[0],
							groupId: params[1]
						}));
					} else if(propertysRes.code === 2) {
						rfl.ui.renderInvalidUrl('#main-div');
					} else {
						rfl.ui.renderPageLoadError('#main-div');
					}
				}
			});
		});
	}, function() {
		require(['rfl'], function(rfl) {
			rfl.ui.renderPageLoadError('#main-div');
		});
	});
})();
</script>
</body>
</html>