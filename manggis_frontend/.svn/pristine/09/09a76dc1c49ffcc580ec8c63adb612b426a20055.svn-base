<%
var rfl = require('rfl');
%>

<h1><%=isEdit ? lang.customer.label.editProperty : lang.customer.label.createProperty%></h1>
<div id="edit-property-form">
	<div class="form-group">
		<label for="edit-property-name"><%=lang.common.label.name%> %{{mandatory}}%</label>
		<input id="edit-property-name" class="form-control" name="name" maxlength="80" data-validator="mandatory name" type="text" value="<%==data.property.name || ''%>" data-rfl-keyup="keyupSubmit" /> 
		<span class="help-block help-error"></span>
	</div>
	<%if(isEdit) {%>
		<div class="form-group">
			<label for="edit-property-tag"><%=lang.customer.label.mergeTag%> %{{mandatory}}%</label>
			<div class="form-inline">
				<span class="desc">You may put</span> ${ <input id="edit-property-tag" class="form-control span3" name="tag" maxlength="80" data-validator="mandatory wordUpperCase" type="text" value="<%==data.property.tag || ''%>" data-rfl-keyup="keyupSubmit" <%=data.property.basic ? 'disabled' : ''%> style="width: 150px;" /> } <span class="desc">in your campaign content to merge this property.</span> 
				<span class="help-block help-error"></span>
			</div>
		</div>
	<%}%>
	<div class="form-group">
		<label for="edit-property-dataType"><%=lang.customer.label.dataType%></label>
		<%if(isEdit) {%>
			<select id="edit-property-dataType" class="form-control" name="propertyType" disabled>
				<option value="<%=data.property.propertyType%>"><%=lang.propertyTypes.names[data.property.propertyType]%></option>
			</select> 
		<%} else {%>
			<select id="edit-property-dataType" class="form-control" name="propertyType" onchange="G.pageRequire('../../js/mod/customer/property-edit').changeDataType();" <%=isEdit ? 'disabled' : ''%>>
				<%for(var p in lang.propertyTypes.names) {
					if(!rfl.config.BASIC_PROPERTY_TYPE[p]) {%>
					
						<option value="<%=p%>"><%=lang.propertyTypes.names[p]%></option>
					<%}
				}%>
			</select> 
		<%}%>
		<span class="help-inline"></span>
	</div>
	<div id="edit-set-form" class="display-none">
		<div id="existing-property-set-div">
			<!-- include "./property-edit-set.tpl.html" -->
		</div>
		<div class="form-group">
			<label for="edit-property-set">
				<%=lang.customer.label.addValues%> 
				<%if(!isEdit) {%>
					%{{mandatory}}%
				<%}%>
			</label>
			<div class="place-holder-wrapper">
				<div class="place-holder-text">
					This is a value<br />
					This is another value<br />
					One value per line, and this is the third value
				</div>
				<textarea id="edit-property-set" name="itemNames" class="place-holder-input form-control" rows="10" class="input-xxlarge" data-validator="set" data-rfl-keyup="keyupSubmit"></textarea><span class="help-block help-error"></span>
			</div>
		</div>
	</div>
</div>

<div class="section-divider"></div>
<div>
	<button onclick="return false;" class="btn btn-primary responsive" data-rfl-click="save"><%=isEdit ? lang.common.label.update : lang.common.label.save%></button> 
	<button onclick="return false;" class="btn btn-default responsive" data-rfl-click="cancel"><%=lang.common.label.cancel%></button> 
</div>