<!DOCTYPE html>
<html lang="%{{_lang_}}%">
<head>
<meta charset="utf-8" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>${{customer.label.createList}}$ - ${{common.appName}}$</title>
<!-- include "../inc/head.inc.html" -->
</head>
<body>
<!-- include "../inc/body.inc.html" -->

<!-- require "../../js/lang/%{{_lang_}}%/customer" -->
<!-- require "../../js/mod/customer/list-edit" -->
<script type="text/javascript">
;(function() {
	var params = G.getUrlParams();
	
	G.pageRequire(['../../js/mod/customer/list-edit', '../../js/mod/nav-bar/init', 'ajax!' + G.getAjaxLoadUrl('users/information'), params.id ? 'ajax!' + G.getAjaxLoadUrl('lists/' + params.id) : ''], function(main, navBar, auth, data) {
		require(['rfl'], function(rfl) {
			rfl.auth.init(auth, function() {
				navBar.init('list');
				if(params.id) {
					if(!rfl.ajax.dealCommonCode(data.code)) {
						if(data.code === 0) {
							main.init(true, data.data);
						} else if(data.code === rfl.config.RES_CODE.RESOURCE_NOT_EXIST) {
							rfl.ui.renderInvalidUrl('#main-div');
						} else {
							rfl.ui.renderPageLoadError('#main-div');
						}
					}
				} else {
					main.init();
				}
			});
		});
	}, function() {
		require(['rfl'], function(rfl) {
			rfl.ui.renderPageLoadError('#main-div');
		});
	});
})();
</script>
</body>
</html>